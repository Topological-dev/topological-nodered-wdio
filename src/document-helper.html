<script type="text/javascript">

    function setValue() {
      return $('#node-input-line').val()
    }

    function setChanges() {
        return $('#node-input-refUrl').val()
    }

    RED.nodes.registerType('document-helper', {
      category: 'Webdriver IO',
      color: '#FFFFFF',
      defaults: {
        name: { value: '' },
        refUrl: {value: setChanges()},
        line: {value: setValue()}
      },
      inputs: 1,
      outputs: 1,
      icon: 'font-awesome/fa-file-text-o',
      label: function() {
        return this.name || 'document-helper'
      }
    })
  </script>
  
  <script type="text/x-red" data-template-name="document-helper">
    
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input id="node-input-name" type="text">
    </div>

    <div class="form-row">    
      <input type="checkbox" id="node-input-line" name="node-input-line"  onclick="setValue()" style="width:auto; margin-right:20%" />
      <label for="node-input-line" style="min-width:70%;color:#87A980"><b> Use new line as separator</b></label> 
    </div>

    <div class="form-row">
      <label for="node-input-refUrl"><i class="fa fa-tag"></i> Ref. URl</label>
      <textarea id="node-input-refUrl" name="node-input-refUrl" class="node-text-editor" rows="3" style="min-width:70%;" onblur="setChanges()"></textarea>
    </div>
  </script>
  
  <script type="text/x-red" data-help-name="document-helper">
    <h3>Log helper node uses to add notes to <code>global.document</code></h3>
    <h3>Details</h3>
        <dl class="message-properties">
            <dt>Name: name of the log to be added to <code>global.document</code></dt>
            <dt>New Line: Check the checkbox for Use new line as separator</dt>
            <dt>Ref Url.: A quick reference url that needs to be added to document.</dt>
        </dl>
  
    <h3>Outputs</h3>
        <dl class="message-properties">
            <dt>msg: <span class="property-type">object</span></dt>
        </dl>
  
  </script>